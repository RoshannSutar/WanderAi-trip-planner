import { GoogleGenerativeAI } from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
  
    export const chatSession = model.startChat({
            generationConfig,
         // safetySettings: Adjust safety settings
         // See https://ai.google.dev/gemini-api/docs/safety-settings
            history: [
              {
                role: "user",
                parts: [
                  {text: "Generate travel plan for location : Las Vegas for 3 days for couple with a cheap budget. Give me a hotel options list with hotel name, hotel address, price, hotel image url, geo coordinates, ratings, description, and suggest itinerary with place name, place details, place url, geo coordinates, ticket, pricing, ratings, time travel, each of the location for 3 days with each travel plan with best time to visit in JSON Format."},
                ],
              },
              {
                role: "model",
                parts: [
                  {text: "```json\n{\n  \"hotel_options\": [\n    {\n      \"name\": \"The D Las Vegas\",\n      \"address\": \"301 Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$50-$100 per night\",\n      \"image_url\": \"https://www.thed.com/media/images/hero_images/home_hero.jpg\",\n      \"geo_coordinates\": \"36.1699, -115.1424\",\n      \"ratings\": \"4.0 stars\",\n      \"description\": \"A downtown hotel with a retro vibe, offering affordable rooms, a casino, and a lively atmosphere.\"\n    },\n    {\n      \"name\": \"Circus Circus Hotel & Casino\",\n      \"address\": \"2880 Las Vegas Blvd S, Las Vegas, NV 89109\",\n      \"price\": \"$40-$80 per night\",\n      \"image_url\": \"https://www.circuscircus.com/content/dam/caesars/circuscircus/hero-images/home-hero.jpg\",\n      \"geo_coordinates\": \"36.1256, -115.1737\",\n      \"ratings\": \"3.5 stars\",\n      \"description\": \"A family-friendly hotel with a circus theme, featuring a midway, a casino, and affordable rooms.\"\n    },\n    {\n      \"name\": \"Golden Nugget Hotel & Casino\",\n      \"address\": \"129 E Fremont St, Las Vegas, NV 89101\",\n      \"price\": \"$70-$120 per night\",\n      \"image_url\": \"https://www.goldennugget.com/media/images/hero_images/home_hero.jpg\",\n      \"geo_coordinates\": \"36.1692, -115.1414\",\n      \"ratings\": \"4.5 stars\",\n      \"description\": \"A historic hotel with a modern touch, boasting a world-class casino, a shark tank, and luxurious rooms.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": \"Day 1: Downtown and Fremont Street Experience\",\n      \"schedule\": [\n        {\n          \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n          \"place\": \"Fremont Street Experience\",\n          \"details\": \"Walk the pedestrian-friendly Fremont Street Experience, experience the iconic Viva Vision light show, and enjoy street performers and live music.\",\n          \"url\": \"https://www.fremontstreetexperience.com/\",\n          \"geo_coordinates\": \"36.1699, -115.1424\",\n          \"ticket\": \"Free\",\n          \"pricing\": \"N/A\",\n          \"ratings\": \"4.5 stars\"\n        },\n        {\n          \"time\": \"Lunch (12:00 PM - 1:00 PM)\",\n          \"place\": \"Heart Attack Grill\",\n          \"details\": \"Try a burger at the infamous Heart Attack Grill, known for its extreme portions and unhealthy menu.\",\n          \"url\": \"https://www.heartattackgrill.com/\",\n          \"geo_coordinates\": \"36.1692, -115.1414\",\n          \"ticket\": \"N/A\",\n          \"pricing\": \"$10-$20\",\n          \"ratings\": \"3.5 stars\"\n        },\n        {\n          \"time\": \"Afternoon (1:00 PM - 4:00 PM)\",\n          \"place\": \"Neon Museum\",\n          \"details\": \"Explore the Neon Museum, a collection of historic neon signs from Las Vegas' past.\",\n          \"url\": \"https://neonmuseum.org/\",\n          \"geo_coordinates\": \"36.1714, -115.1378\",\n          \"ticket\": \"Adult: $25, Child: $15\",\n          \"pricing\": \"N/A\",\n          \"ratings\": \"4.5 stars\"\n        },\n        {\n          \"time\": \"Evening (5:00 PM - 8:00 PM)\",\n          \"place\": \"The D Las Vegas Casino\",\n          \"details\": \"Enjoy a casual dinner and try your luck at the casino.\",\n          \"url\": \"https://www.thed.com/\",\n          \"geo_coordinates\": \"36.1699, -115.1424\",\n          \"ticket\": \"N/A\",\n          \"pricing\": \"N/A\",\n          \"ratings\": \"4.0 stars\"\n        }\n      ]\n    },\n    {\n      \"day\": \"Day 2: Strip Exploration and Free Shows\",\n      \"schedule\": [\n        {\n          \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n          \"place\": \"The Bellagio Conservatory & Botanical Garden\",\n          \"details\": \"Admire the beautiful and intricate floral displays at the Bellagio Conservatory.\",\n          \"url\": \"https://www.bellagio.com/things-to-do/conservatory-and-botanical-garden/\",\n          \"geo_coordinates\": \"36.1078, -115.1729\",\n          \"ticket\": \"Free\",\n          \"pricing\": \"N/A\",\n          \"ratings\": \"4.5 stars\"\n        },\n        {\n          \"time\": \"Lunch (12:00 PM - 1:00 PM)\",\n          \"place\": \"In-N-Out Burger\",\n          \"details\": \"Grab a quick and affordable bite at the iconic In-N-Out Burger.\",\n          \"url\": \"https://www.in-n-out.com/\",\n          \"geo_coordinates\": \"36.1096, -115.1732\",\n          \"ticket\": \"N/A\",\n          \"pricing\": \"$5-$10\",\n          \"ratings\": \"4.0 stars\"\n        },\n        {\n          \"time\": \"Afternoon (1:00 PM - 4:00 PM)\",\n          \"place\": \"The Venetian and The Palazzo\",\n          \"details\": \"Wander through the canals of The Venetian and The Palazzo, explore the Grand Canal Shoppes, and enjoy the atmosphere.\",\n          \"url\": \"https://www.venetian.com/\",\n          \"geo_coordinates\": \"36.1089, -115.1738\",\n          \"ticket\": \"Free\",\n          \"pricing\": \"N/A\",\n          \"ratings\": \"4.5 stars\"\n        },\n        {\n          \"time\": \"Evening (5:00 PM - 8:00 PM)\",\n          \"place\": \"Free Shows on the Strip\",\n          \"details\": \"Catch a free show on the Strip, such as the Bellagio Fountains or the Mirage Volcano.\",\n          \"url\": \"https://www.lasvegas.com/shows/free-shows.html\",\n          \"geo_coordinates\": \"36.1078, -115.1729\",\n          \"ticket\": \"Free\",\n          \"pricing\": \"N/A\",\n          \"ratings\": \"4.5 stars\"\n        }\n      ]\n    },\n    {\n      \"day\": \"Day 3: Hiking and Exploring the Red Rock Canyon National Conservation Area\",\n      \"schedule\": [\n        {\n          \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n          \"place\": \"Red Rock Canyon National Conservation Area\",\n          \"details\": \"Explore the scenic Red Rock Canyon National Conservation Area, go for a hike, and enjoy the stunning rock formations.\",\n          \"url\": \"https://www.nps.gov/redr/index.htm\",\n          \"geo_coordinates\": \"36.2010, -115.2975\",\n          \"ticket\": \"Entrance Fee: $15 per vehicle\",\n          \"pricing\": \"N/A\",\n          \"ratings\": \"5 stars\"\n        },\n        {\n          \"time\": \"Lunch (12:00 PM - 1:00 PM)\",\n          \"place\": \"Picnic Lunch at Red Rock Canyon\",\n          \"details\": \"Pack a picnic lunch and enjoy it amidst the beautiful scenery at Red Rock Canyon.\",\n          \"url\": \"https://www.nps.gov/redr/index.htm\",\n          \"geo_coordinates\": \"36.2010, -115.2975\",\n          \"ticket\": \"N/A\",\n          \"pricing\": \"N/A\",\n          \"ratings\": \"N/A\"\n        },\n        {\n          \"time\": \"Afternoon (1:00 PM - 4:00 PM)\",\n          \"place\": \"Las Vegas Springs Preserve\",\n          \"details\": \"Visit the Las Vegas Springs Preserve, a 180-acre outdoor museum showcasing the history and natural environment of the Las Vegas Valley.\",\n          \"url\": \"https://www.springspreserve.org/\",\n          \"geo_coordinates\": \"36.1382, -115.1697\",\n          \"ticket\": \"Adult: $18, Child: $12\",\n          \"pricing\": \"N/A\",\n          \"ratings\": \"4.0 stars\"\n        },\n        {\n          \"time\": \"Evening (5:00 PM - 8:00 PM)\",\n          \"place\": \"Downtown Container Park\",\n          \"details\": \"Enjoy dinner and drinks at Downtown Container Park, a unique outdoor shopping and dining complex built from shipping containers.\",\n          \"url\": \"https://downtowncontainerpark.com/\",\n          \"geo_coordinates\": \"36.1674, -115.1406\",\n          \"ticket\": \"N/A\",\n          \"pricing\": \"N/A\",\n          \"ratings\": \"4.0 stars\"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Notes:**\n\n* This itinerary is a suggestion, and you can adjust it based on your interests and preferences.\n* Prices for hotels, food, and attractions are approximate and may vary depending on the time of year and availability.\n* Consider visiting during the off-season (spring or fall) for cheaper prices and fewer crowds.\n* Las Vegas is a walkable city, but consider using public transportation or ride-sharing services for longer distances.\n* Always check for any COVID-19 restrictions or guidelines before traveling.\n"},
                ],
              },
            ],
          });
        
          